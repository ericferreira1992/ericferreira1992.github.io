(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{62:function(t,i,e){"use strict";e.d(i,"a",(function(){return o.a})),e.d(i,"b",(function(){return s}));var o=e(23);class r{constructor(t){Object.assign(this,t)}}class n{constructor(t){this.description="",this.keywords="",this.og={},Object.assign(this,t),this.og&&(this.og=new r(this.og))}}class c{constructor(t){this.template="",this.style="",this.title="",this.meta={},Object.assign(this,t),this.meta&&(this.meta=new n(this.meta))}}var a=e(3);e(24);function s(t){return function(i){return t=new c(t),Object.assign(i.prototype,t),Reflect.defineMetadata(a.a,!0,i),i}}},79:function(t,i){t.exports='<div class="add-article-page animated fadeIn"> <div @if=loading class=loading> Carregando artigo... </div> <h2 @if="!loading && !editing" class=mb-7>Novo artigo</h2> <section @if=!loading class=article-editor> <div @if="editor != null" class=editor-header> <ul> <li @for="var item of editorMenu"> <button @if="item.type !== \'divider\'" class=menu-item [class]="{ \'is-active\': item.isActive && item.isActive() }" (click)="item.action && item.action()" title={{item.title}}> <i class=material-icons>{{item.icon}}</i> </button> <div @if="item.type === \'divider\'" class=divider></div> </li> </ul> </div> <div id=editor></div> </section> <div @if=!loading class=text-right> <button class="btn primary-out" (click)=cancel()> Cancelar </button> <button class="btn primary m-l-1" (click)=save()> Salvar </button> </div> </div>'},80:function(t,i,e){},98:function(t,i,e){"use strict";e.r(i),e.d(i,"AddArticlePage",(function(){return g}));var o=e(62),r=e(19),n=e(25),c=e(45),a=e(61),s=e(68),l=e(95),d=e(78),u=function(t,i,e,o){var r,n=arguments.length,c=n<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,i,e,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(n<3?r(c):n>3?r(i,e,c):r(i,e))||c);return n>3&&c&&Object.defineProperty(i,e,c),c},h=function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)},f=function(t,i,e,o){return new(e||(e=Promise))((function(r,n){function c(t){try{s(o.next(t))}catch(t){n(t)}}function a(t){try{s(o.throw(t))}catch(t){n(t)}}function s(t){var i;t.done?r(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(c,a)}s((o=o.apply(t,i||[])).next())}))};let g=class extends o.a{constructor(t,i){super(),this.articleService=t,this.routeParams=i,this.loading=!0,this.editing=!1,this.editor=null,this.editorMenu=[],this.form=new n.a({content:{}}),this.editing=this.routeParams.params.id}get id(){return this.routeParams.params.id}onInit(){return f(this,void 0,void 0,(function*(){this.editing?(this.article=yield this.articleService.getById(this.id),this.loading=!1):this.loading=!1}))}onAfterInit(){this.prepareEditor()}prepareEditor(){this.render(()=>{var t;this.editor=new a.a({element:document.querySelector("#editor"),autofocus:!0,extensions:[s.a.extend({content:"heading block*"}),l.a.configure({document:!1}),d.a],onCreate:()=>{this.editor.chain().setTextSelection(this.editor.getCharacterCount()+1).run()},content:null!==(t=localStorage.getItem("ericferreira1992_draft_article"))&&void 0!==t?t:"<h1>Título</h1><p>Subtítulo</p>",onUpdate:()=>{this.render(),console.log("UPDATE")},onSelectionUpdate:()=>{this.render(),console.log("SELETION")}}),this.editorMenu=[{icon:"format_bold",title:"Negrito",action:()=>this.editor.chain().focus().toggleBold().run(),isActive:()=>this.editor.isActive("bold")},{icon:"format_italic",title:"Itálico",action:()=>this.editor.chain().focus().toggleItalic().run(),isActive:()=>this.editor.isActive("italic")},{icon:"strikethrough_s",title:"Cortado",action:()=>this.editor.chain().focus().toggleStrike().run(),isActive:()=>this.editor.isActive("strike")},{icon:"code",title:"Código",action:()=>this.editor.chain().focus().toggleCode().run(),isActive:()=>this.editor.isActive("code")},{icon:"highlight",title:"Destacar",action:()=>this.editor.chain().focus().toggleHighlight().run(),isActive:()=>this.editor.isActive("code")},{type:"divider"},{icon:"title",title:"Título tamanho 1",action:()=>this.editor.chain().focus().toggleHeading({level:1}).run(),isActive:()=>this.editor.isActive("heading",{level:1})},{icon:"title",title:"Título tamanho 2",action:()=>this.editor.chain().focus().toggleHeading({level:2}).run(),isActive:()=>this.editor.isActive("heading",{level:2})},{icon:"format_textdirection_l_to_r",title:"Parágrafo",action:()=>this.editor.chain().focus().setParagraph().run(),isActive:()=>this.editor.isActive("paragraph")},{icon:"format_list_bulleted",title:"Lista normal",action:()=>this.editor.chain().focus().toggleBulletList().run(),isActive:()=>this.editor.isActive("bulletList")},{icon:"format_list_numbered",title:"Lista ordenada",action:()=>this.editor.chain().focus().toggleOrderedList().run(),isActive:()=>this.editor.isActive("orderedList")},{icon:"integration_instructions",title:"Bloco de códigos",action:()=>this.editor.chain().focus().toggleCodeBlock().run(),isActive:()=>this.editor.isActive("codeBlock")},{type:"divider"},{icon:"format_quote",title:"Comentário",action:()=>this.editor.chain().focus().toggleBlockquote().run(),isActive:()=>this.editor.isActive("blockquote")},{icon:"horizontal_rule",title:"Separador",action:()=>this.editor.chain().focus().setHorizontalRule().run()},{type:"divider"},{icon:"wrap_text",title:"Quebra de linha",action:()=>this.editor.chain().focus().setHardBreak().run()},{icon:"format_clear",title:"Limpar formatação",action:()=>this.editor.chain().focus().clearNodes().unsetAllMarks().run()},{type:"divider"},{icon:"undo",title:"Undo",action:()=>this.editor.chain().focus().undo().run()},{icon:"redo",title:"Redo",action:()=>this.editor.chain().focus().redo().run()}]})}cancel(){}save(){return f(this,void 0,void 0,(function*(){const t=this.editor.getHTML();localStorage.setItem("ericferreira1992_draft_article",t),console.log(localStorage.getItem("ericferreira1992_draft_article"))}))}};g=u([Object(o.b)({template:e(79),style:e(80),title:"Eric Ferreira - Novo artigo"}),h("design:paramtypes",[c.a,r.a])],g)}}]);